{"version":3,"file":"static/js/605.286d7e64.chunk.js","mappings":"sNAEMA,EAAS,2DACFC,EAAW,mCAAG,WAAOC,EAAaC,GAApB,yEACrBC,EAAQ,GADa,KAEjBD,EAFiB,cAGlBE,EAAAA,EAAAA,SAHkB,SAOlBA,EAAAA,EAAAA,QAPkB,SAWlBA,EAAAA,EAAAA,KAXkB,SAelBA,EAAAA,EAAAA,QAfkB,UAoBlBA,EAAAA,EAAAA,MApBkB,0BAIrBD,EAAQ,uBAAyBJ,EAJZ,mCAQrBI,EAAQ,UAAYF,EAAcF,EARb,mCAYrBI,EAAQ,UAAYF,EAAc,WAAaF,EAZ1B,oCAgBrBI,EAAQ,UAAYF,EAAc,WAAaF,EAAS,UAhBnC,oCAqBrBI,EACE,gBACAJ,EACA,UACAE,EACA,8BA1BmB,6BAgCrBI,QAAQC,IAAR,iBAhCqB,yBAkCFC,EAAAA,EAAAA,IAAUJ,GAlCR,eAkCnBK,EAlCmB,yBAmClBA,GAnCkB,4CAAH,uD,sDCHjB,IAAMJ,EAAU,CACrBK,SAAU,WACVC,QAAS,UACTC,KAAM,OACNC,QAAS,UACTC,MAAO,Q,oHCJT,EAA4B,wBAA5B,EAA2D,mBAA3D,EAAyF,uB,2CCK5EC,EAAiB,WAC5B,IAAMC,GAAWC,EAAAA,EAAAA,MACjB,GAA4CC,EAAAA,EAAAA,UAAS,IAArD,eAAOC,EAAP,KAAuBC,EAAvB,KACA,GAAkCF,EAAAA,EAAAA,WAAS,GAA3C,eAAOG,EAAP,KAAkBC,EAAlB,KACMC,GAAYC,EAAAA,EAAAA,SAAO,GAEnBC,EAAmB,mCAAG,WAAOvB,EAAawB,GAApB,gFAC1BJ,GAAa,GADa,mBAGArB,EAAAA,EAAAA,GAAYC,EAAawB,GAHzB,OAGlBC,EAHkB,OAIhBC,EAAYD,EAAUE,KAAtBD,QAERR,EAAkBQ,GANM,gDAQxBtB,QAAQwB,MAAR,MARwB,yBAUxBR,GAAa,GAVW,4EAAH,wDAqBzB,OAPAS,EAAAA,EAAAA,YAAU,WACHR,EAAUS,UACbP,EAAoB,GAAIpB,EAAAA,EAAAA,UAExBkB,EAAUS,SAAU,EAEvB,KAEC,4BACE,6CACEX,GAAaF,EAAec,OAAS,GAAKV,EAAUS,QAAU,GAChE,eAAIE,UAAWC,EAAf,SACGhB,EAAeiB,KAAI,SAAAC,GAAK,aACvB,SAAC,KAAD,CAAMC,GAAE,kBAAaD,EAAME,IAAMC,MAAO,CAAEC,KAAMzB,GAAhD,UACE,gBAAIkB,UAAWC,EAAf,WACE,gBACED,UAAWC,EACXO,IAhCE,uDAgCaL,EAAMM,YACrBC,IAAKP,EAAMQ,QAEZR,EAAMQ,QANT,UAAiCR,EAAME,UAAvC,aAAiC,EAAUO,aAFtB,QAehC,EC/CD,EAHa,WACX,OAAO,SAAC/B,EAAD,GACR,C,sBCLD,SAASgC,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQC,EAAKC,GACpE,IACE,IAAIC,EAAOP,EAAIK,GAAKC,GAChBE,EAAQD,EAAKC,KAInB,CAHE,MAAO1B,GAEP,YADAoB,EAAOpB,EAET,CAEIyB,EAAKE,KACPR,EAAQO,GAERE,QAAQT,QAAQO,GAAOG,KAAKR,EAAOC,EAEvC,CAEe,SAASQ,EAAkBC,GACxC,OAAO,WACL,IAAIC,EAAOC,KACPC,EAAOC,UACX,OAAO,IAAIP,SAAQ,SAAUT,EAASC,GACpC,IAAIF,EAAMa,EAAGK,MAAMJ,EAAME,GAEzB,SAASb,EAAMK,GACbT,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQ,OAAQI,EAClE,CAEA,SAASJ,EAAOe,GACdpB,EAAmBC,EAAKC,EAASC,EAAQC,EAAOC,EAAQ,QAASe,EACnE,CAEAhB,OAAMiB,EACR,GACF,CACF,C","sources":["components/Api/Api.js","components/SearchOptions/SearchOptions.js","webpack://goit-react-hw-05-movies/./src/components/Home/Home.module.css?58dd","components/Home/Home.js","pages/Home.jsx","../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"],"sourcesContent":["import axios from 'axios';\nimport { Options } from 'components/SearchOptions/SearchOptions';\nconst apiKey = '?api_key=62c12a1369857be405b25f1458785604&language=en-US';\nexport const fetchMovies = async (searchQuery, searchMode) => {\n  let query = '';\n  switch (searchMode) {\n    case Options.TRENDING: {\n      query = '/trending/movie/week' + apiKey;\n      break;\n    }\n    case Options.DETAILS: {\n      query = '/movie/' + searchQuery + apiKey;\n      break;\n    }\n    case Options.CAST: {\n      query = '/movie/' + searchQuery + '/credits' + apiKey;\n      break;\n    }\n    case Options.REVIEWS: {\n      query = '/movie/' + searchQuery + '/reviews' + apiKey + '&page=1';\n\n      break;\n    }\n    case Options.QUERY: {\n      query =\n        '/search/movie' +\n        apiKey +\n        '&query=' +\n        searchQuery +\n        '&page=1&include_adult=false';\n\n      break;\n    }\n\n    default:\n      console.log(`Wrong command`);\n  }\n  const response = await axios.get(query);\n  return response;\n};\n","export const Options = {\n  TRENDING: 'TRENDING',\n  DETAILS: 'DETAILS',\n  CAST: 'CAST',\n  REVIEWS: 'REVIEWS',\n  QUERY: 'QUERY',\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"item-list\":\"Home_item-list__l6t90\",\"item\":\"Home_item__KHBnP\",\"item-img\":\"Home_item-img__jpWSe\"};","import React, { useEffect, useState, useRef } from 'react';\nimport css from './Home.module.css';\nimport { Options } from 'components/SearchOptions/SearchOptions';\nimport { fetchMovies } from 'components/Api/Api';\nimport { Link } from 'components/AppStyled/App.styled';\nimport { useLocation } from 'react-router-dom';\nexport const TrendingMovies = () => {\n  const location = useLocation();\n  const [trendingMovies, setTrendingMovies] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const isFetched = useRef(false);\n  const imgPath = 'https://www.themoviedb.org/t/p/w600_and_h900_bestv2/';\n  const handleMoviesRequest = async (searchQuery, pageNr) => {\n    setIsLoading(true);\n    try {\n      const fetchData = await fetchMovies(searchQuery, pageNr);\n      const { results } = fetchData.data;\n\n      setTrendingMovies(results);\n    } catch (error) {\n      console.error(error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    if (!isFetched.current) {\n      handleMoviesRequest('', Options.TRENDING);\n\n      isFetched.current = true;\n    }\n  });\n  return (\n    <div>\n      <div>Trending Today</div>\n      {!isLoading && trendingMovies.length > 0 && isFetched.current > 0}\n      <ul className={css['item-list']}>\n        {trendingMovies.map(movie => (\n          <Link to={`/movies/${movie.id}`} state={{ from: location }}>\n            <li className={css['item']} key={movie.id?.toString()}>\n              <img\n                className={css['item-img']}\n                src={imgPath + movie.poster_path}\n                alt={movie.title}\n              ></img>\n              {movie.title}\n            </li>\n          </Link>\n        ))}\n      </ul>\n    </div>\n  );\n};\n","import React from 'react';\n//const TrendingMovies = lazy(() => import('components/Home/Home'));\nimport { TrendingMovies } from 'components/Home/Home';\nconst Home = () => {\n  return <TrendingMovies />;\n};\nexport default Home;\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}"],"names":["apiKey","fetchMovies","searchQuery","searchMode","query","Options","console","log","axios","response","TRENDING","DETAILS","CAST","REVIEWS","QUERY","TrendingMovies","location","useLocation","useState","trendingMovies","setTrendingMovies","isLoading","setIsLoading","isFetched","useRef","handleMoviesRequest","pageNr","fetchData","results","data","error","useEffect","current","length","className","css","map","movie","to","id","state","from","src","poster_path","alt","title","toString","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","done","Promise","then","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined"],"sourceRoot":""}